import java.awt.*;
import java.awt.event.*;
import java.util.function.Consumer;
import javax.swing.*;

public class Point extends JPanel {
    private Consumer<java.awt.Point> onMoveListener;
    
    public void setOnMoveListener(Consumer<java.awt.Point> listener) {
        this.onMoveListener = listener;
    }

    private int squareX = 100, squareY = 100;
    private boolean dragging = false;

    public Point() {
        setBackground(Color.WHITE);

        addMouseListener(new MouseAdapter() {
            @Override
            public void mousePressed(MouseEvent e) {
                if (e.getX() >= squareX && e.getX() <= squareX + 50 &&
                    e.getY() >= squareY && e.getY() <= squareY + 50) {
                    dragging = true;
                }
            }

            @Override
            public void mouseReleased(MouseEvent e) {
                dragging = false;
            }
        });

        addMouseMotionListener(new MouseAdapter() {
            @Override
            public void mouseDragged(MouseEvent e) {
                if (dragging) {
                    squareX = e.getX();
                    squareY = e.getY();
                    repaint();

                    if (onMoveListener != null) {
                        onMoveListener.accept(new java.awt.Point(squareX, squareY));
                    }
                }
            }
        });
    }
}
