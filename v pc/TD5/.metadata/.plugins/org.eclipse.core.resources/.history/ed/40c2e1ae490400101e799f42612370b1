import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;

import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.plaf.nimbus.NimbusLookAndFeel;

public class MainView extends JFrame {

    public MainView() {
        // Set window title
        setTitle("Logisim-evolution");

        // Set main layout panel
        MainLayout mainLayout = new MainLayout();
        setContentPane(mainLayout);

        // Set menu bar
        setJMenuBar(mainLayout.createMenuBar());

        // Enable maximized window
        setExtendedState(JFrame.MAXIMIZED_BOTH);

        // Ensure key events work properly
        setFocusable(true);
        requestFocusInWindow();

        // Default close operation
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Show window
        setVisible(true);
        
        this.addWindowListener(new WindowListener() {
			
	
			@Override
			public void windowClosing(WindowEvent e) {
				int closedBtn = JOptionPane.showConfirmDialog(MainView.this,"Voulez vous quitter la page?", "Title",JOptionPane.YES_NO_OPTION);
				if (closedBtn == JOptionPane.YES_OPTION) {
					dispose();
				}
				
		
    }
    
    

    public static void main(String[] args) throws UnsupportedLookAndFeelException {
    	UIManager.setLookAndFeel( new NimbusLookAndFeel() );
        SwingUtilities.invokeLater(MainView::new);
        
    }
}
